\subsection*{Projektplanung}
\label{projektplanung}
  \addcontentsline{toc}
    {subsection}
    {Projektplanung}

In diesem Kapitel werden das Projektmanagement und der Projektplan der Teamarbeit aufgezeigt.
Es wird dieselbe Projektmanagementmethode verwendet wie in \acrfull{pren1}: Es wird Scrum auf das Projekt angepasst. Synchronisationsmeetings finden wöchentlich statt, es wird inkrementell gearbeitet und am Ende der timeboxed Sprints gibt es ein funktionierendes Produkt. Zu Ende von jedem Sprint wird geprüft, ob die Sprintziele erreicht wurden.\cite{wikipedia-scrum}

Ebenso sind der Datenaustausch, die Kostensammlung und die verwendeten Tools gleich. Nach wie vor wird Microsoft Teams als Tool verwendet, um Informationen zu speichern und sich auszutauschen. Es wird wieder das Scrumboard von Teams verwendet.

\subsubsection*{Organigramm}
  \addcontentsline{toc}
    {subsubsection}
    {Organigramm}

Das Team hat sich leicht geändert, da ein Student das Team nach \acrshort{pren1} verliess und ein neuer Student das Team betrat. Die zugewiesenen Rollen sind nach wie vor dieselben, wie in \acrshort{pren1}.

\begin{figure}[H]
\centering
\includegraphics[width=\textwidth]{assets/projektmanagement/Organigramm.png}
\caption{Organigramm}
\label{fig:organigram}
\end{figure}

\subsubsection*{Releaseplan}
  \addcontentsline{toc}
    {subsubsection}
    {Releaseplan}

Die Arbeitszeit wurde in 4 Sprints aufgeteilt, wobei die ersten 3 Sprints 4 Wochen dauern und der letzte Sprint 3. Die Daten der Sprints und der Meilensteine sind auf folgender Grafik \ref{fig:project-plan} sichtbar.


\begin{figure}[H]
\centering
\includegraphics[width=\textwidth]{assets/projektmanagement/projektplan.pdf}
\caption{Projektplan}
\label{fig:project-plan}
\end{figure}

\subsubsection*{Backlog}
  \addcontentsline{toc}
    {subsubsection}
    {Backlog}
    
Der Backlog dient als zentrales Planungselement.
Nach dem Abschliessen eines Sprints wird ein Ausblick auf den nächsten Sprint durchgeführt, um allfällige Anpassungen an dessen Sprintbacklog vorzunehmen. Ebenfalls wird zu Ende eines Sprints ein Controlling durchgeführt.

Der folgende Plan in Tabellen \ref{table:release-plan-1} und \ref{table:release-plan-2} zeigt die einzelnen Teilfunktionen des Roboters mit verfeinerten User Stories. Die Epics wurden priorisiert und Sprints zugeordnet und die Aufwände der User Stories wurden in Personentagen (8 Stunden) geschätzt und ebenfalls den einzelnen Disziplinen zugeordnet. Diese Zuordnung zu den Disziplinen dient der Übersicht und kann abweichen.
Die Schätzungen der User Stories beinhalten die Dokumentation und das Testen der Arbeiten. Die Epics sind aufeinander aufbauend. Es kann parallel daran gearbeitet werden, aber um die einzelnen Produkte am Roboter zusammenfügen zu Können, müssen oft bestimmte User Stories zuvor bereits abgeschlossen werden sein. Diese Abhängigkeiten sind in den einzelnen Sprints nachfolgend beschrieben. Die Priorisierung wurde zum einen nach diesem aufbauenden Prinzip durchgeführt, als auch danach, welche Stories das höchste Risiko aufweisen. Diese Stories wurden höher priorisiert, damit mehr Zeit für eine allfällige Problembehebung vorhanden ist.
Die Farben der einzelnen Epics dienen lediglich zu einem besseren Überblick.


\begin{table}[H]
\centering
\includegraphics[width=\textwidth]{assets/projektmanagement/releaseplan - plan-page1-crop.pdf}
\caption{Releaseplan Teil 1}
\label{table:release-plan-1}
\end{table}
\newpage

\begin{table}[H]
\centering
\includegraphics[width=\textwidth]{assets/projektmanagement/releaseplan - plan-page2-crop.pdf}
\caption{Releaseplan Teil 2}
\label{table:release-plan-2}
\end{table}
\newpage


\subsubsection*{Sprintplanung}
  \addcontentsline{toc}
    {subsubsection}
    {Sprintplanung}

    
In den folgenden Kapiteln wurden für jeden Sprint Sprintziele und ein Sprintbacklog definiert. Dieser ergibt sich aus dem Releaseplan. Darin wird der geschätzte Aufwand mit dem tatsächlichen Aufwand verglichen. Ebenfalls wird angegeben, falls eine User Story nicht fertiggestellt wurden konnte in dem geplanten Sprint und in welchem Sprint sie beendet werden konnte. Ist der Status eines Story am Ende des Sprints `DONEv1' bedeutete das, dass diese Story in der Sprintreview des jeweiligen Sprints als beendet betrachtet wurde, jedoch in einem späteren Sprint bemerkt wurde, dass noch Teile verbessert oder korrigiert werden müssen. Dies wird in dem jeweiligen späteren Sprint, wo auch der Status angepasst wird, beschrieben. 


\subsubsection*{Sprint 1}
  \addcontentsline{toc}
    {subsubsection}
    {Sprint 1}

\textbf{Sprintziele:}
\begin{itemize}
    \item Der Roboter soll von Software gesteuert geradeaus fahren können.
    \item Der Roboter soll von Software gesteuert, einer Linie folgen können.
    \item Der Roboter soll von Software gesteuert, von einem Knoten aus zu einem Nachbars Knoten, der unter 2 Meter entfernt ist, fahren können.
\end{itemize}

\textbf{Sprintbacklog:} Der Sprintbacklog von Sprint 1 ist in Tabelle 
\ref{table:sprint1-backlog} 
dargestellt.

\begin{table}[H]
\centering
\includegraphics[width=\textwidth]{assets/projektmanagement/sprint1-crop.pdf}
\caption{Sprint 1 Backlog}
\label{table:sprint1-backlog}
\end{table}

\textbf{Sprintreview}

Die Mehrheit der geplanten User Stories konnte umgesetzt werden.
Das \acrshort{pcb} wurde bestellt, ist jedoch noch nicht angekommen, weswegen Stories, die diese benötigen noch nicht begonnen oder fertig durchgeführt werden konnten.
Ebenfalls gab es eine Verzögerung bei dem Liniensensor. Die Software für den Liniensensor wurde bereits implementiert, ist aber noch nicht im Einsatz, da noch nicht alle Tests erfolgreich waren.

Folglich wurden zwei der drei definierten Sprintziele wie folgt erreicht:
\begin{itemize}
    \item Der Roboter kann von Software gesteuert geradeaus fahren.
    \item Der Roboter kann noch nicht von Software gesteuert einer Linie folgen oder mithilfe des Liniensensors einen Knoten erreichen.
    \item Der Roboter kann von einem Knoten zum Nachbarsknoten fahren, indem die Distanz gemessen wird, insofern der Knoten sich gerade vor dem Roboter befindet.
\end{itemize}


Es konnte bereits mit einigen Aufgaben von Sprint 2 begonnen werden:

\begin{itemize}
    \item Für den Epic `Wegfindung' konnte bereits im ersten Sprint die Schnittstelle zwischen Steuerung und Navigation definiert werden. Ebenso konnte bereits die Software des Simulators angepasst werden, damit diese für die Navigation verwendet werden kann. Die Kommunikation zwischen Steuerung und Navigation konnte bereits begonnen werden.
    \item Für den Epic `Hindernis umplatzieren' konnte bereits der Greifer an der Grundplatte angebracht werden.
\end{itemize}



\textbf{Risikoupdate}
\label{risks-sprint-1}

In diesem Sprint konnten folgende Risiken beseitigt oder minimiert werden:
\begin{itemize}
    \item Risiko 11: Kamera liefert unscharfe oder verzerrte Bilder: Kamera wurde intensiv verwendet und liefert sehr gute Bilder, insofern sie im Stillstand ist.
\end{itemize}

Es kam ein neues Risiko hinzu und wurde ebenfalls direkt minimiert:
\begin{itemize}
    \item Risiko 18: Akkuhalterung geht kaputt: Es wurden mehrere Akkuhalterungen gedruckt.
\end{itemize}


\newpage



\subsubsection*{Sprint 2}
  \addcontentsline{toc}
    {subsubsection}
    {Sprint 2}
    
\textbf{Sprintziele:}
\begin{itemize}
    \item Die Navigation soll mit der Steuerung kommunizieren können.
    \item Der Roboter soll Bilder machen koennen.
    \item Der Roboter soll von Software gesteuert ein Hindernis umplatzieren können.
    \item Der Roboter soll sich von Software gesteuert drehen können.
    \item Der Roboter soll sich von Software gesteuert in dem Winkel einer bestimmten ausgehenden Linie ausrichten können.
\end{itemize}

\textbf{Sprintbacklog:} Der Sprintbacklog von Sprint 2 ist in Tabelle 
\ref{table:sprint2-backlog} 
dargestellt.

\begin{table}[H]
\centering
\includegraphics[width=\textwidth]{assets/projektmanagement/sprint2-crop.pdf}
\caption{Sprint 2 Backlog}
\label{table:sprint2-backlog}
\end{table}


\textbf{Sprintreview}

Mehrere Stories, die in Sprint 1 noch nicht umgesetzt werden konnten, konnten in Sprint 2 fertig gemacht werden: Das PCB ist angekommen und konnte auf der Grundplatte angebracht werden und mit dem \gls{tinyk22} und dem Liniensensor verbunden werden. Ebenfalls konnten die Lichtabdeckungen für den Liniensensor gefertigt und angebracht werden. Der Liniensenor selbst wurde ebenfalls fertiggestellt.

Im Sprint 2 konnten alle Stories des Wegfindungs Epics fertiggestellt werden: Schnittstelle wurde definiert und implementiert. Die Software des Simulators wurde bereits im Vorherigen Sprint angepasst.
Der Greifer ist seit Sprint 1 auf der Grundplatte angebracht und der Motor wurde an das PCB angeschlossen. Eine erste Version der Software dafür ist implementiert, jedoch wurde diese noch nicht getestet. Der Roboter kann die Winkel des ausgehenden Linien erkennen und sich drehen.

Es wurden drei der fünf definierten Sprintziele wie folgt erreicht:
\begin{itemize}
    \item Die Navigation kann über UART mit der Steuerung kommunizieren.
    \item Der Roboter hat eine Kamera angeschlossen und kann Bilder machen und speichern.
    \item Der Roboter kann noch nicht ein Hindernis von Software gesteuert heben.
    \item Der Roboter kann sich von Software gesteuert drehen. Er dreht sich aber noch nicht im korrekten Winkel.
    \item Der Roboter kann die ausgehenden Linien erkennen.
\end{itemize}

Ebenfalls konnten einige Stories aus nachfolgenden Sprints begonnen oder bereits beendet werden:
\begin{itemize}
    \item Der Epic `Zieleingabe' aus Sprint 3 konnte umgesetzt werden.
    \item Für den Epic `Ziel erreicht Ausgabe' aus Sprint 4 konnte bereits ein Buzzer angebracht werden, der von Software betätigt werden kann.
    \item Der Epic `Not-Stop' aus Sprint 4 konnte bereits umgesetzt werden. Ein Schalter, der als Not-Stop dient, wurde angebracht und verbunden.
\end{itemize}


\textbf{Risikoupdate}
\label{risks-sprint-2}

In diesem Sprint konnten folgende Risiken beseitigt oder minimiert werden:
\begin{itemize}
    \item Risiko 13: Ein Softwarefehler führt zu einem Absturz: Dieses Risiko wird laufend miniemiert durch die Erstellung von Unittests und wird folgend nicht mehr in jedem Sprint erwähnt werden.
    \item Risiko 14: Ein Software-Update führt zu Fehlern: Jede neue Version wird getestet. Durch die Verwendung von Git kann die Software einfach auf eine alte Version zurückgesetzt werden. 
    \item Risiko 4: 1 Minute reicht nicht zum Aufbau: Die Zieleingabe ist sehr simpel und schnell.
    \item Risiko 5: Bodenfugen werden  als Linie erkannt: Robuste Methode, um ausgehende Winkel der Linien zu erkennen mit Kamera, mitigiert das Risiko beim Weiterfahren.
    \item Risiko 10: Ungenaue Abfahrtssituation: Methode, um Winkel der ausgehenden Linien zu erkennen ist sehr robust.
\end{itemize}

Es kam ein neues Risiko hinzu und wurde ebenfalls direkt minimiert:
\begin{itemize}
    \item Risiko 19: Elektroteile gehen kaputt: Alle Elektroteile sind in mindestens zweifacher Ausgabe vorhanden. Das PCB ist fünf Mal vorhanden.
    \item Risiko 20: Roboter weiss nicht mehr, wo er sich befindet: Indizien gesammelt, wann dies der Fall sein könnte und Wechsel in Trial \& Error Modus implementiert.
    \item Risiko 21: Ausgehende Linien werden nicht erkannt: Sehr robute Methode und Prozess wurde definiert und implementiert, falls keine Linien erkannt werden.
\end{itemize}
\newpage

\subsubsection*{Sprint 3}
  \addcontentsline{toc}
    {subsubsection}
    {Sprint 3}

\textbf{Sprintziele:}
\begin{itemize}
    \item Der Roboter soll erkennen, ob sich eine Pylone vor ihm befindet.
    \item Der Roboter soll erkennen, ob sich eine Barriere vor ihm befindet.
    \item Der Roboter soll erkennen, ob eine erwartete Linie fehlt.
    \item Der Roboter soll erkennen, ob sich ein Knoten innerhalb von 2 Metern vor ihm befindet.
    \item Der Roboter soll selber erkennen, ob ein Knoten befahrbar ist oder ober er von einer Pylone blockiert ist.
    \item Der Roboter soll erkennen, ob eine Barriere auf der Linie vor ihm befindet und abwaegen, ob dieser Weg trotz Hindernisbeseitigung noch schnell genug ist.
    \item Der Roboter braucht eine Zieleingabe.

\end{itemize}

\textbf{Sprintbacklog:} Der Sprintbacklog von Sprint 3 ist in Tabelle 
\ref{table:sprint3-backlog} 
dargestellt.


\begin{table}[H]
\centering
\includegraphics[width=\textwidth]{assets/projektmanagement/sprint3-crop.pdf}
\caption{Sprint 3 Backlog}
\label{table:sprint3-backlog}
\end{table}


\textbf{Sprintreview}

In diesem Sprint wurde ein YOLO Model trainiert, das genug sicher Objekte erkennen kann. Ebenfalls kann das Model in der Navigation ausgewertet werden und der Roboter kann somit auf die einzelnen Objekte passend reagieren. 

Alle sieben Sprint Ziele von diesem Sprint konnten erreicht werden. Lediglich der Ultraschall konnte noch nicht umgesetzt werden. Dieser dient jedoch nur als zusätzliche Absicherungen und es konnten trotzdem alle Ziele erreicht werden.

Ebenfalls konnte die Story `Software, um Zielknoten zu erkennen implementieren' umgesetzt werden aus Sprint 4.

In diesem Sprint wurde gemerkt, dass der Liniensensor zwar funktioniert, um auf einer Linie zu fahren, jedoch die Knotenerkennung nicht stabil ist. Diese Story wird nun wieder geöffnet und weiterhin bearbeitet. Ebenfalls gab es Probleme damit, eine bestimmte Distanz zu fahren mit dem Roboter. Diese Story aus Sprint 1 wird ebenfalls wieder geöffnet. Die Story für die Ansteuerung des Motors wurde nachträglich im Sprint 1  mit dem Status DONEv1 gekennzeichnet, da zu diesem Zeitpunkt bereits eine erste Version existierte, die nun weiter optimiert bzw. korrigiert wird. Die Story zum Liniensensor bleibt `IN PROGRESS'.

Die beiden Stories `Greifvorgang implentieren' und `Software, um sich zu drehen schreiben', die im vorherigen Sprint noch nicht beendet werden konnten, konnten auch in diesem Sprint nicht beendet werden.


\textbf{Risikoupdate}

In diesem Sprint konnten folgende Risiken mitigiert werden:

\begin{itemize}
    \item Risiko 1: Hindernisse werden nicht erkannt: Gutes Model trainiert und Sicherheitsvorkehrungen eingebaut.
    \item Risiko 2: Konten werden nicht erkannt: Gutes Model trainiert, falls trotzdem nichts erkannt, einfach Knoten annehmen.
    \item Risiko 3: 4 Minuten reichen nicht: Model transformiert in schnelleres Format, um Bilderkennung schneller zu machen.
    \item Risko 7: Ein Objekt wird fälschlicherweise erkannt: Gutes Model trainiert, nur Objekte direkt vor Roboter werden akzeptiert, Knoten werden ebenfalls erkannt, hat einen Trial \& Error Methode, falls kein Weg zum Ziel mehr existiert, ist genug schnell, um mit einem längeren Weg umzugehen.
    \item Risiko 12: Falschen Pfad fahren, wegen übersehenen Objekten: Gutes Model, würde durch Ultraschall gestoppt, Prozess implementiert um auf unerwartete Objekte zu reagieren.
    
\end{itemize}

Dieses Risiko kam neu dazu und konnte gleich mitigiert werden:

\begin{itemize}
    \item Risiko 22: Gibt fälschlicherweise an, sei im Ziel: Sehr robuste Methode Zielknoten zu erkennen, automatisiert getestet.
\end{itemize}

\newpage


\subsubsection*{Sprint 4}
  \addcontentsline{toc}
    {subsubsection}
    {Sprint 4}
    
\textbf{Sprintziele:}
\begin{itemize}
    \item Der Roboter soll im Notfall gestoppt werden können.
    \item Der Roboter soll erkennen, wenn er sich im Ziel befindet.
    \item Der Roboter soll bekannt geben, dass er sich im Ziel befindet.
\end{itemize}

\textbf{Sprintbacklog:} Der Sprintbacklog von Sprint 4 ist in Tabelle 
\ref{table:sprint4-backlog} 
dargestellt.


\begin{table}[H]
\centering
\includegraphics[width=\textwidth]{assets/projektmanagement/sprint4-crop.pdf}
\caption{Sprint 4 Backlog}
\label{table:sprint4-backlog}
\end{table}


\textbf{Sprintreview}

Alle Sprintziele von diesem Sprint konnten bereits in Sprint 2 und 3 fertiggestellt und erreicht werden.

Der Liniensensor konnte ebenfalls optimiert werden, damit die Knoten besser erkannt werden, wenn der Roboter sich auf einem befindet. Ebenfalls wurde das Problem behoben, dass der Roboter noch nicht konsistent eine bestimmte Strecke vor und zurück fahren konnte. Dies kann er nun.

In diesem Sprint konnte der Ultraschall implementiert werden. Es gibt nun eine Funktion, die konstant misst, ob sich Objekte nah vor dem Roboter befinden. Jedoch war es zeitlich nicht mehr möglich, die Funktion zu implementieren, um den Greifvorgang durchzuführen.

In diesem Sprint konnte  das Problem mit dem Drehen behoben werden. Der Roboter kann sich nun drehen.

Was zu diesem Zeitpunkt noch fehlt, ist das Zusammensetzen der einzelnen Funktionen der Steuerung, dies wird versucht bis zum Wettbewerb noch umzusetzen.

\textbf{Risikoupdate}

Folgende Risiken konnten in diesem Sprint mitigiert werden.

\begin{enumerate}
    \item Risiko 1: Hindernisse werden nicht erkannt: Ultraschall als zusätzliche Sicherheitsmassnahme.
    \item Risiko 5: Bodenfugen werden als Linie erkannt: Liniensensor hatte in allen Tests keine Probleme mit den Bodenfugen.
    \item Risiko 6: Liniensensor fehlerhaft: Liniensensor wurde ausgiebig getestet.
\end{enumerate}

Weiterhin besteht das Risiko, dass die Steuerung als System noch nicht funktioniert. Dies wird versucht zu ueberwinden bis zum Wettbewerb.

\newpage

\subsection*{Kosten}\label{kosten}
  \addcontentsline{toc}
    {subsection}
    {Kosten}

Insgesamt stehen für \acrshort{pren1} und \acrshort{pren2} 500.- zur Verfügung. In der folgenden Tabelle \ref{table:costs} wird aufgezeigt, wie viel davon bereits in \acrshort{pren1} verwendet wurde und wie viel in \acrshort{pren2} noch gebraucht wurde.


\begin{table}[H]
\centering
\small
\begin{tabularx}\textwidth{|X | X | X | X |}
\hline
  \textbf{Bezeichnung} & \textbf{Anzahl} & \textbf{Stückpreis} & \textbf{Gesamtkosten} \\
  \hline
  \hline
  \multicolumn{4}{|l|}{\textbf{PREN 1}}\\
\hline
    Getriebemotor mit Encoder & 2 &CHF 13.90 & CHF 37.80\\
  \hline
    Raspberry Pi Camera Module 3 & 1 & CHF 29.90& CHF 29.90\\
  \hline
  Raspberry Pi 5 4GB & 1 & CHF 60.90 & CHF 60.90\\
  \hline
  MicroSD Speicherkarte & 1 & CHF 5.36 & CHF 5.36\\
  \hline
    Servomotor aus eigenem Bestand & 1 & CHF 10.00 & CHF 10.00\\
  \hline
    PLA-Kunststofffilament & 750g & CHF 15.00 & CHF 15.00\\     
 \hline
    Diverse Schrauben, Muttern und Gewindeeinsätze & - & CHF 10.00 & CHF 10.00\\ 
    \hline
   Piezo-Buzzer & 1 & CHF 0.92 & CHF 0.92\\
    \hline
Ultraschallsensor & 1 & CHF 5.39 & CHF 5.39\\    
    \hline
\acrshort{i/o} Expander I2C 8-bit & 1 & CHF 1.57 & CHF 1.57\\
\hline
Pololu QTR-8RC Reflectance Sensor Array & 1 & CHF 8.36 & CHF 8.36\\
\hline
Kugellager & 4 & CHF 1.50 & CHF 6.00 \\
\hline
Gummi Modelbbau Räder & 2 & CHF 3.00 & CHF 6.00\\
\hline
Lenkrolle& 1 & CHF 2.50 & CHF 2.50\\
\hline
  \textbf{Gesamtkosten PREN 1} && &CHF 199.70\\
\hline
\end{tabularx}
\end{table}

\newpage

\begin{table}[H]
\centering
\small
\begin{tabularx}\textwidth{|X | X | X | X |}
\hline
  \textbf{Bezeichnung} & \textbf{Anzahl} & \textbf{Stückpreis} & \textbf{Gesamtkosten} \\
  \hline
  \hline
  \multicolumn{4}{|l|}{\textbf{PREN 2}}\\
\hline
Doppel H-Brücke DC Motor Controller Board& 1 & CHF 8.00 & CHF 8.00\\

\hline
Joy-it SBC-Buck02 Spannungsregler 5V & 2 & CHF 8.15 & CHF 16.30\\

\hline
Diverse Elektronischen Komponenten (Widerstände, Kondensatoren, ...)& - & CHF 10.00 & CHF 10.00\\

\hline
Diverse Litzen und Kabel& - & CHF 10.00 & CHF 10.00\\

\hline
MPU-6050 3-Axis Accelerometer with Gyroscope & 1 & CHF 9.90 & CHF 9.00\\
\hline
Adafruit Perma-Proto HAT for Pi Mini Kit& 1 & CHF 6.90 & CHF 6.90\\
\hline
Buzzer 12mm / 10mm Height 3V & 1 & CHF 1.10 & CHF 1.10\\
\hline
Buzzer 12mm / 10mm Height 5V & 1 & CHF 1.10 & CHF 1.10\\
\hline
6 Drucktaster & 1 & CHF 5.40 & CHF 5.40\\
\hline
OLED Modul 128x64 Pixel, I2Cm Weiss & 1 & CHF 16.90 & CHF 16.90\\
  \hline
  Diverse Schrauben, Muttern und Gewindeeinsätze & - & CHF 10.00 & CHF 10.00\\ 
    \hline
        PLA-Kunststofffilament & 250g & CHF 5.00 & CHF 5.00\\     
 \hline
    Medium-Density Fibreboard
& 1 & CHF 5.00 & 5.00 CHF \\
  \hline
   & 1 & CHF  & CHF \\
  \hline
     & 1 & CHF  & CHF \\
  \hline
     & 1 & CHF  & CHF \\
  \hline
     & 1 & CHF  & CHF \\
  \hline
    \textbf{Gesamtkosten PREN 2} && & CHF TODO\\
\hline
\hline
  \textbf{Gesamtkosten PREN 1 \& 2} && &CHF TODO\\
  \hline
\end{tabularx}
\caption{Kosten}
\label{table:costs}
\end{table}

\newpage